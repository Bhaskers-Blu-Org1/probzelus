open Probzelus
open Distribution
open Infer_pf

let proba model b = pr where
  rec init pr = sample (beta(1., 1.))
  and () = observe (bernoulli pr, b)

let random_init = Random.self_init()

let node main () =
  let b = draw (bernoulli 0.7) in
  let d = infer 10000 model b in
  print_float (mean_float d);
  print_newline ()
